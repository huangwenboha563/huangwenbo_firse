<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script src="../../js/jquery.js"></script>
<script>
    /*
     *  基于JS高阶编程技巧`惰性`思想来实现的单例模式，并且可以把一些常用的设计模式（例如：命令模式，发布订阅模式，promise设计模式等）融合进来
     *  最后清晰的规划我们的业务逻辑代码，方便后期二次开发和维护，这种设计思想综合体就是高级单例模式，也是项目中常用的
     *  哈哈
     *  惰性思想 不知道
     *  命令模式 不知道
     *  发布订阅模式  听过而已
     *  promise设计模式 听过  promise 但是没听过promise设计模式
     */
    var searchModel = (function () {
        var $searchPlan = $.Callbacks();
        function submit(value) {
            $.ajax({
                url:'http://breadoffer.com/api/course/member/index?maxCount=8&t=1531230203229',
                dataType: 'json',
                success: function (res) {
                    console.log(value);
                    console.log(res);
                }
            });
        }
        function fn(value) {
            console.log('fn执行了' + value);
        }

        $searchPlan.add(submit);
        $searchPlan.add(fn);
        // $searchPlan.remove(fn);
        return {
            init: function () {
                $searchPlan.fire('操蛋');
            }
        }
    })();
    searchModel.init();
</script>
</html>