<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>v-model</title>
    <script src="../js/vue.js"></script>
    <script src="https://unpkg.com/vuex@3.5.1/dist/vuex.js"></script>
</head>
<body>
<div id="box">
    <my-add></my-add>
    <hr>
    <my-sub></my-sub>
</div>
</body>
<script>
    const store = new Vuex.Store({
        state: {
            count: 0
        },
        mutations: {
            add(state,step) {
                state.count +=step
            }
        }
    })
    console.log(store);
    new Vue({
        el: "#box",
        // state  数据源
        data() {
            return {

            }
        },
        store: store,
        // actions  事件
        components: {
            'my-add': {
                template: `
                    <button @click="add">{{$store.state.count}}</button>`,
                data: function () {
                    return {
                        a: 1
                    }
                },
                methods: {
                    addFun() {
                        this.$store.commit('add',3)
                    },
                    ...mapMutations(['add'])
                },
                computed: {
                    changeCount(){
                        return this.$store.state.count
                    }
                }
            },
            'my-sub': {
                template: `
                    <button>{{changeCount}}</button>`,
                data: function () {
                    return {
                        s: 1
                    }
                },
                computed: {
                  changeCount(){
                      return store.state.count
                  }
                },
                methods: {

                }
            }
        }
    })
</script>
<script>
    /*

    v-model 一般用在表单元素(input上)
    假如页面上有个input，要想让它有值得花我们可以用最传统的value="值"，但是我们既然用了新框架就按照人家的语法来写个属性v-model="msg" msg是vue实例的data上的一个值。






    */
</script>
</html>
