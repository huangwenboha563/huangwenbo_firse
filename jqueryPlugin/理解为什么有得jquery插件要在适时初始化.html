<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>jquer插件适时初始化的问题</title>
    <style>
        span {
            display: none;
        }
    </style>
</head>

<body>
    <!-- <div id="father">
                <div id="son">
                    <ul>
                        <li>a</li>
                        <li>b</li>
                        <li>c</li>
                        <li>d</li>
                        <li>e</li>
                    </ul>
                </div>
            </div> -->
    <div id="button" style="float:right;">点击我</div>
</body>
<script src="../data/js/jquery.js"></script>
<script>
    /* $(document.body).on('click','ul',function(){
        alert($(this).children().length)
    }); */

    $.fn.test = function (options) {
        var a = options.a;
        var _this = this;
        $(document.body).on('click', a, function () { // 因为此时还不知道a是谁，提前test在页面行找不到a
            alert(_this.children().length)
            _this.children().length;
        })
    }
    $("#father").test({
            a: 'ul'
        });
    $("#button").on('click', function () {
        $(document.body).append('\
                                <div id="father">\
                                <div id="son">\
                                    <ul>\
                                        <li>a</li>\
                                        <li>b</li>\
                                        <li>c</li>\
                                        <li>d</li>\
                                        <li>e</li>\
                                    </ul>\
                                </div>\
                            </div>');
        
    });


</script>

</html>